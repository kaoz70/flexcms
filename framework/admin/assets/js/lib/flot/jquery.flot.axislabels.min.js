(function(n){function o(){return!!document.createElement("canvas").getContext}function s(){if(!o())return!1;var n=document.createElement("canvas"),t=n.getContext("2d");return typeof t.fillText=="function"}function e(){var n=document.createElement("div");return typeof n.style.MozTransition!="undefined"||typeof n.style.OTransition!="undefined"||typeof n.style.webkitTransition!="undefined"||typeof n.style.transition!="undefined"}function f(n,t,i,r,u){this.axisName=n;this.position=t;this.padding=i;this.plot=r;this.opts=u;this.width=0;this.height=0}function r(n,t,i,r,u){f.prototype.constructor.call(this,n,t,i,r,u)}function i(n,t,i,r,u){f.prototype.constructor.call(this,n,t,i,r,u);this.elem=null}function t(n,t,r,u,f){i.prototype.constructor.call(this,n,t,r,u,f)}function u(n,i,r,u,f){t.prototype.constructor.call(this,n,i,r,u,f);this.requiresResize=!1}function h(f){f.hooks.processOptions.push(function(f,o){if(o.axisLabels.show){var c=!1,h={},l=2;f.hooks.draw.push(function(f){var o=!1;c?(c=!1,n.each(f.getAxes(),function(n,t){var i=t.options||f.getOptions()[n];i&&i.axisLabel&&t.show&&h[n].draw(t.box)})):(n.each(f.getAxes(),function(n,c){var a=c.options||f.getOptions()[n],v,y,p,w;(n in h&&(c.labelHeight=c.labelHeight-h[n].height,c.labelWidth=c.labelWidth-h[n].width,a.labelHeight=c.labelHeight,a.labelWidth=c.labelWidth,h[n].cleanup(),delete h[n]),a&&a.axisLabel&&c.show)&&(o=!0,v=null,a.axisLabelUseHtml||navigator.appName!="Microsoft Internet Explorer"?v=!a.axisLabelUseHtml&&(e()||s()||a.axisLabelUseCanvas)?a.axisLabelUseCanvas||!e()?r:t:i:(y=navigator.userAgent,p=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),p.exec(y)!=null&&(rv=parseFloat(RegExp.$1)),v=rv>=9&&!a.axisLabelUseCanvas&&!a.axisLabelUseHtml?t:a.axisLabelUseCanvas||a.axisLabelUseHtml?a.axisLabelUseCanvas?r:i:u),w=a.axisLabelPadding===undefined?l:a.axisLabelPadding,h[n]=new v(n,c.position,w,f,a),h[n].calculateSize(),a.labelHeight=c.labelHeight+h[n].height,a.labelWidth=c.labelWidth+h[n].width)}),o&&(c=!0,f.setupGrid(),f.draw()))})}})}f.prototype.cleanup=function(){};r.prototype=new f;r.prototype.constructor=r;r.prototype.calculateSize=function(){this.opts.axisLabelFontSizePixels||(this.opts.axisLabelFontSizePixels=14);this.opts.axisLabelFontFamily||(this.opts.axisLabelFontFamily="sans-serif");var n=this.opts.axisLabelFontSizePixels+this.padding,t=this.opts.axisLabelFontSizePixels+this.padding;this.position=="left"||this.position=="right"?(this.width=this.opts.axisLabelFontSizePixels+this.padding,this.height=0):(this.width=0,this.height=this.opts.axisLabelFontSizePixels+this.padding)};r.prototype.draw=function(n){var t;this.opts.axisLabelColour||(this.opts.axisLabelColour="black");t=this.plot.getCanvas().getContext("2d");t.save();t.font=this.opts.axisLabelFontSizePixels+"px "+this.opts.axisLabelFontFamily;t.fillStyle=this.opts.axisLabelColour;var u=t.measureText(this.opts.axisLabel).width,f=this.opts.axisLabelFontSizePixels,i,r,e=0;this.position=="top"?(i=n.left+n.width/2-u/2,r=n.top+f*.72):this.position=="bottom"?(i=n.left+n.width/2-u/2,r=n.top+n.height-f*.72):this.position=="left"?(i=n.left+f*.72,r=n.height/2+n.top+u/2,e=-Math.PI/2):this.position=="right"&&(i=n.left+n.width-f*.72,r=n.height/2+n.top-u/2,e=Math.PI/2);t.translate(i,r);t.rotate(e);t.fillText(this.opts.axisLabel,0,0);t.restore()};i.prototype=new f;i.prototype.constructor=i;i.prototype.calculateSize=function(){var t=n('<div class="axisLabels" style="position:absolute;">'+this.opts.axisLabel+"<\/div>");this.plot.getPlaceholder().append(t);this.labelWidth=t.outerWidth(!0);this.labelHeight=t.outerHeight(!0);t.remove();this.width=this.height=0;this.position=="left"||this.position=="right"?this.width=this.labelWidth+this.padding:this.height=this.labelHeight+this.padding};i.prototype.cleanup=function(){this.elem&&this.elem.remove()};i.prototype.draw=function(t){this.plot.getPlaceholder().find("#"+this.axisName+"Label").remove();this.elem=n('<div id="'+this.axisName+'Label" " class="axisLabels" style="position:absolute;">'+this.opts.axisLabel+"<\/div>");this.plot.getPlaceholder().append(this.elem);this.position=="top"?(this.elem.css("left",t.left+t.width/2-this.labelWidth/2+"px"),this.elem.css("top",t.top+"px")):this.position=="bottom"?(this.elem.css("left",t.left+t.width/2-this.labelWidth/2+"px"),this.elem.css("top",t.top+t.height-this.labelHeight+"px")):this.position=="left"?(this.elem.css("top",t.top+t.height/2-this.labelHeight/2+"px"),this.elem.css("left",t.left+"px")):this.position=="right"&&(this.elem.css("top",t.top+t.height/2-this.labelHeight/2+"px"),this.elem.css("left",t.left+t.width-this.labelWidth+"px"))};t.prototype=new i;t.prototype.constructor=t;t.prototype.calculateSize=function(){i.prototype.calculateSize.call(this);this.width=this.height=0;this.position=="left"||this.position=="right"?this.width=this.labelHeight+this.padding:this.height=this.labelHeight+this.padding};t.prototype.transforms=function(n,t,i){var r={"-moz-transform":"","-webkit-transform":"","-o-transform":"","-ms-transform":""},u,s,f,o,e;(t!=0||i!=0)&&(u=" translate("+t+"px, "+i+"px)",r["-moz-transform"]+=u,r["-webkit-transform"]+=u,r["-o-transform"]+=u,r["-ms-transform"]+=u);n!=0&&(s=n/90,f=" rotate("+n+"deg)",r["-moz-transform"]+=f,r["-webkit-transform"]+=f,r["-o-transform"]+=f,r["-ms-transform"]+=f);o="top: 0; left: 0; ";for(e in r)r[e]&&(o+=e+":"+r[e]+";");return o+";"};t.prototype.calculateOffsets=function(n){var t={x:0,y:0,degrees:0};return this.position=="bottom"?(t.x=n.left+n.width/2-this.labelWidth/2,t.y=n.top+n.height-this.labelHeight):this.position=="top"?(t.x=n.left+n.width/2-this.labelWidth/2,t.y=n.top):this.position=="left"?(t.degrees=-90,t.x=n.left-this.labelWidth/2+this.labelHeight/2,t.y=n.height/2+n.top):this.position=="right"&&(t.degrees=90,t.x=n.left+n.width-this.labelWidth/2-this.labelHeight/2,t.y=n.height/2+n.top),t.x=Math.round(t.x),t.y=Math.round(t.y),t};t.prototype.draw=function(t){this.plot.getPlaceholder().find("."+this.axisName+"Label").remove();var i=this.calculateOffsets(t);this.elem=n('<div class="axisLabels '+this.axisName+'Label" style="position:absolute; '+this.transforms(i.degrees,i.x,i.y)+'">'+this.opts.axisLabel+"<\/div>");this.plot.getPlaceholder().append(this.elem)};u.prototype=new t;u.prototype.constructor=u;u.prototype.transforms=function(n,t,i){var r="",u;if(n!=0){for(u=n/90;u<0;)u+=4;r+=" filter: progid:DXImageTransform.Microsoft.BasicImage(rotation="+u+"); ";this.requiresResize=this.position=="right"}return t!=0&&(r+="left: "+t+"px; "),i!=0&&(r+="top: "+i+"px; "),r};u.prototype.calculateOffsets=function(n){var i=t.prototype.calculateOffsets.call(this,n);return this.position=="top"?i.y=n.top+1:this.position=="left"?(i.x=n.left,i.y=n.height/2+n.top-this.labelWidth/2):this.position=="right"&&(i.x=n.left+n.width-this.labelHeight,i.y=n.height/2+n.top-this.labelWidth/2),i};u.prototype.draw=function(n){t.prototype.draw.call(this,n);this.requiresResize&&(this.elem=this.plot.getPlaceholder().find("."+this.axisName+"Label"),this.elem.css("width",this.labelWidth),this.elem.css("height",this.labelHeight))};n.plot.plugins.push({init:h,options:{axisLabels:{show:!0}},name:"axisLabels",version:"2.0"})})(jQuery);
//# sourceMappingURL=jquery.flot.axislabels.min.js.map
