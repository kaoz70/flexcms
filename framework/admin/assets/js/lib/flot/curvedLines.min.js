(function(n){function i(n){function i(n,t){t.series.curvedLines.active&&n.hooks.processDatapoints.unshift(r)}function r(n,i,r){var l=r.points.length/r.pointsize,a=o(i.curvedLines),e,h;if(!a&&i.curvedLines.apply==!0&&i.originSeries===undefined&&l>1+.005)if(i.lines.fill){e=t(r,i.curvedLines,1);h=t(r,i.curvedLines,2);r.pointsize=3;r.points=[];for(var s=0,u=0,f=0,c=2;f<e.length||s<h.length;)e[f]==h[s]?(r.points[u]=e[f],r.points[u+1]=e[f+1],r.points[u+2]=h[s+1],s+=c,f+=c):e[f]<h[s]?(r.points[u]=e[f],r.points[u+1]=e[f+1],r.points[u+2]=u>0?r.points[u-1]:null,f+=c):(r.points[u]=h[s],r.points[u+1]=u>1?r.points[u-2]:null,r.points[u+2]=h[s+1],s+=c),u+=3}else i.lines.lineWidth>0&&(r.points=t(r,i.curvedLines,1),r.pointsize=2)}function t(n,t,i){if(typeof t.legacyOverride!="undefined"&&t.legacyOverride!=!1){var r={fit:!1,curvePointFactor:20,fitPointDist:undefined},f=jQuery.extend(r,t.legacyOverride);return e(n,f,i)}return u(n,t,i)}function u(n,t,i){for(var o,r=n.points,e=n.pointsize,y=f(n,t,i),u=[],c=0,s=0;s<r.length-e;s+=e){var h=s,p=s+i,l=r[h],a=r[h+e],v=(a-l)/Number(t.nrSplinePoints);for(u.push(r[h]),u.push(r[p]),o=l+=v;o<a;o+=v)u.push(o),u.push(y[c](o));c++}return u.push(r[r.length-e]),u.push(r[r.length-e+i]),u}function f(n,t,i){for(var e,h,v,c,l,y,p,b,tt,f=n.points,u=n.pointsize,o=[],s=[],r=0;r<f.length-u;r+=u){var c=r,l=r+i,k=f[c+u]-f[c],it=f[l+u]-f[l];o.push(k);s.push(it/k)}if(e=[s[0]],t.monotonicFit)for(r=1;r<o.length;r++)if(h=s[r],v=s[r-1],h*v<=0)e.push(0);else{var d=o[r],g=o[r-1],a=d+g;e.push(3*a/((a+d)/v+(a+g)/h))}else for(r=u;r<f.length-u;r+=u)c=r,l=r+i,e.push(Number(t.tension)*(f[l+u]-f[l-u])/(f[c+u]-f[c-u]));for(e.push(s[s.length-1]),y=[],p=[],r=0;r<o.length;r++){var nt=e[r],rt=e[r+1],h=s[r],w=1/o[r],a=nt+rt-h-h;y.push(a*w*w);p.push((h-a-nt)*w)}for(b=[],r=0;r<o.length;r++)tt=function(n,t,i,r,u){return function(f){var e=f-n,o=e*e;return t*e*o+i*o+r*e+u}},b.push(tt(f[r*u],y[r],p[r],e[r],f[r*u+i]));return b}function e(n,t,i){var e=n.points,nt=n.pointsize,ht=Number(t.curvePointFactor)*(e.length/nt),f=[],o=[],s=-1,v=-1,u=0,y,ct,lt,tt,it,rt,r,ot,ut,st,l,a,et,w,b,k;if(t.fit)for(typeof t.fitPointDist=="undefined"?(ct=e[0],lt=e[e.length-nt],y=(lt-ct)/5e4):y=Number(t.fitPointDist),r=0;r<e.length;r+=nt){for(s=r,v=r+i,tt=e[s]-y,it=e[s]+y,rt=2;tt==e[s]||it==e[s];)tt=e[s]-y*rt,it=e[s]+y*rt,rt++;f[u]=tt;o[u]=e[v];u++;f[u]=e[s];o[u]=e[v];u++;f[u]=it;o[u]=e[v];u++}else for(r=0;r<e.length;r+=nt)s=r,v=r+i,f[u]=e[s],o[u]=e[v],u++;var d=f.length,h=[],p=[];for(h[0]=0,h[d-1]=0,p[0]=0,r=1;r<d-1;++r){if(ot=f[r+1]-f[r-1],ot==0)return[];ut=(f[r]-f[r-1])/ot;st=ut*h[r-1]+2;h[r]=(ut-1)/st;p[r]=(o[r+1]-o[r])/(f[r+1]-f[r])-(o[r]-o[r-1])/(f[r]-f[r-1]);p[r]=(6*p[r]/(f[r+1]-f[r-1])-ut*p[r-1])/st}for(u=d-2;u>=0;--u)h[u]=h[u]*h[u+1]+p[u];var at=(f[d-1]-f[0])/(ht-1),c=[],ft=[],g=[];for(c[0]=f[0],ft[0]=o[0],g.push(c[0]),g.push(ft[0]),u=1;u<ht;++u){for(c[u]=c[0]+u*at,l=d-1,a=0;l-a>1;)et=Math.round((l+a)/2),f[et]>c[u]?l=et:a=et;if(w=f[l]-f[a],w==0)return[];b=(f[l]-c[u])/w;k=(c[u]-f[a])/w;ft[u]=b*o[a]+k*o[l]+((b*b*b-b)*h[a]+(k*k*k-k)*h[l])*w*w/6;g.push(c[u]);g.push(ft[u])}return g}function o(n){if(typeof n.fit!="undefined"||typeof n.curvePointFactor!="undefined"||typeof n.fitPointDist!="undefined")throw new Error("CurvedLines detected illegal parameters. The CurvedLines API changed with version 1.0.0 please check the options object.");return!1}n.hooks.processOptions.push(i)}var t={series:{curvedLines:{active:!1,apply:!1,monotonicFit:!1,tension:.5,nrSplinePoints:20,legacyOverride:undefined}}};n.plot.plugins.push({init:i,options:t,name:"curvedLines",version:"1.1.1"})})(jQuery);
//# sourceMappingURL=curvedLines.min.js.map
