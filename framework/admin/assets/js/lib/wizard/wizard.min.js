(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?module.exports=n(require("jquery")):n(jQuery)})(function(n){var i=n.fn.wizard,t=function(t,i){var r;this.$element=n(t);this.options=n.extend({},n.fn.wizard.defaults,i);this.options.disablePreviousStep=this.$element.attr("data-restrict")==="previous"?!0:this.options.disablePreviousStep;this.currentStep=this.options.selectedItem.step;this.numSteps=this.$element.find(".steps li").length;this.$prevBtn=this.$element.find("button.btn-prev");this.$nextBtn=this.$element.find("button.btn-next");this.$element.children(".steps-container").length===0&&(this.$element.addClass("no-steps-container"),window&&window.console&&window.console.warn&&window.console.warn('please update your wizard markup to include ".steps-container" as seen in http://getfuelux.com/javascript.html#wizard-usage-markup'));r=this.$nextBtn.children().detach();this.nextText=n.trim(this.$nextBtn.text());this.$nextBtn.append(r);this.$prevBtn.on("click.fu.wizard",n.proxy(this.previous,this));this.$nextBtn.on("click.fu.wizard",n.proxy(this.next,this));this.$element.on("click.fu.wizard","li.complete",n.proxy(this.stepclicked,this));this.selectedItem(this.options.selectedItem);this.options.disablePreviousStep&&(this.$prevBtn.attr("disabled",!0),this.$element.find(".steps").addClass("previous-disabled"))};t.prototype={constructor:t,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},addSteps:function(t){var i=[].slice.call(arguments).slice(1),o=this.$element.find(".steps"),s=this.$element.find(".step-content"),r,h,e,c,u,f;for(t=t===-1||t>this.numSteps+1?this.numSteps+1:t,i[0]instanceof Array&&(i=i[0]),u=o.find("li:nth-child("+t+")"),c=s.find(".step-pane:nth-child("+t+")"),u.length<1&&(u=null),r=0,h=i.length;r<h;r++)f=n('<li data-step="'+t+'"><span class="badge badge-info"><\/span><\/li>'),f.append(i[r].label||"").append('<span class="chevron"><\/span>'),f.find(".badge").append(i[r].badge||t),e=n('<div class="step-pane" data-step="'+t+'"><\/div>'),e.append(i[r].pane||""),u?(u.before(f),c.before(e)):(o.append(f),s.append(e)),t++;this.syncSteps();this.numSteps=o.find("li").length;this.setState()},removeSteps:function(t,i){var f="nextAll",e=0,r=this.$element.find(".steps"),o=this.$element.find(".step-content"),u;i=i!==undefined?i:1;t>r.find("li").length?u=r.find("li:last"):(u=r.find("li:nth-child("+t+")").prev(),u.length<1&&(f="children",u=r));u[f]().each(function(){var t=n(this),r=t.attr("data-step");if(e<i)t.remove(),o.find('.step-pane[data-step="'+r+'"]:first').remove();else return!1;e++});this.syncSteps();this.numSteps=r.find("li").length;this.setState()},setState:function(){var p=this.currentStep>1,w=this.currentStep===1,b=this.currentStep===this.numSteps,f,e,c,o,l,s,a,i,h,v,r,u,t,y;this.options.disablePreviousStep||this.$prevBtn.attr("disabled",w===!0||p===!1);f=this.$nextBtn.attr("data-last");f&&(this.lastText=f,e=this.nextText,b===!0?(e=this.lastText,this.$element.addClass("complete")):this.$element.removeClass("complete"),c=this.$nextBtn.children().detach(),this.$nextBtn.text(e).append(c));o=this.$element.find(".steps li");o.removeClass("active").removeClass("complete");o.find("span.badge").removeClass("badge-info").removeClass("badge-success");l=".steps li:lt("+(this.currentStep-1)+")";s=this.$element.find(l);s.addClass("complete");s.find("span.badge").addClass("badge-success");a=".steps li:eq("+(this.currentStep-1)+")";i=this.$element.find(a);i.addClass("active");i.find("span.badge").addClass("badge-info");h=this.$element.find(".step-content");v=i.attr("data-step");h.find(".step-pane").removeClass("active");h.find('.step-pane[data-step="'+v+'"]:first').addClass("active");this.$element.find(".steps").first().attr("style","margin-left: 0");r=0;this.$element.find(".steps > li").each(function(){r+=n(this).outerWidth()});u=0;u=this.$element.find(".actions").length?this.$element.width()-this.$element.find(".actions").first().outerWidth():this.$element.width();r>u&&(t=r-u,this.$element.find(".steps").first().attr("style","margin-left: -"+t+"px"),this.$element.find("li.active").first().position().left<200&&(t+=this.$element.find("li.active").first().position().left-200,t<1?this.$element.find(".steps").first().attr("style","margin-left: 0"):this.$element.find(".steps").first().attr("style","margin-left: -"+t+"px")));typeof this.initialized!="undefined"&&(y=n.Event("changed.fu.wizard"),this.$element.trigger(y,{step:this.currentStep}));this.initialized=!0},stepclicked:function(t){var u=n(t.currentTarget),i=this.$element.find(".steps li").index(u),r;i<this.currentStep&&this.options.disablePreviousStep||(r=n.Event("stepclicked.fu.wizard"),this.$element.trigger(r,{step:i+1}),r.isDefaultPrevented())||(this.currentStep=i+1,this.setState())},syncSteps:function(){var t=1,i=this.$element.find(".steps"),r=this.$element.find(".step-content");i.children().each(function(){var i=n(this),u=i.find(".badge"),f=i.attr("data-step");isNaN(parseInt(u.html(),10))||u.html(t);i.attr("data-step",t);r.find('.step-pane[data-step="'+f+'"]:last').attr("data-step",t);t++})},previous:function(){var t,i;this.options.disablePreviousStep||this.currentStep===1||(t=n.Event("actionclicked.fu.wizard"),this.$element.trigger(t,{step:this.currentStep,direction:"previous"}),t.isDefaultPrevented())||(this.currentStep-=1,this.setState(),this.$prevBtn.is(":focus")&&(i=this.$element.find(".active").find("input, select, textarea")[0],typeof i!="undefined"?n(i).focus():this.$element.find(".active input:first").length===0&&this.$prevBtn.is(":disabled")&&this.$nextBtn.focus()))},next:function(){var i=n.Event("actionclicked.fu.wizard"),t;(this.$element.trigger(i,{step:this.currentStep,direction:"next"}),i.isDefaultPrevented())||(this.currentStep<this.numSteps?(this.currentStep+=1,this.setState()):this.$element.trigger("finished.fu.wizard"),this.$nextBtn.is(":focus")&&(t=this.$element.find(".active").find("input, select, textarea")[0],typeof t!="undefined"?n(t).focus():this.$element.find(".active input:first").length===0&&this.$nextBtn.is(":disabled")&&this.$prevBtn.focus()))},selectedItem:function(n){var i,t;return n?(t=n.step||-1,t=Number(this.$element.find('.steps li[data-name="'+t+'"]').first().attr("data-step"))||Number(t),1<=t&&t<=this.numSteps?(this.currentStep=t,this.setState()):(t=this.$element.find(".steps li.active:first").attr("data-step"),isNaN(t)||(this.currentStep=parseInt(t,10),this.setState())),i=this):(i={step:this.currentStep},this.$element.find(".steps li.active:first[data-name]").length&&(i.stepname=this.$element.find(".steps li.active:first").attr("data-name"))),i}};n.fn.wizard=function(i){var u=Array.prototype.slice.call(arguments,1),r,f=this.each(function(){var e=n(this),f=e.data("fu.wizard"),o=typeof i=="object"&&i;f||e.data("fu.wizard",f=new t(this,o));typeof i=="string"&&(r=f[i].apply(f,u))});return r===undefined?f:r};n.fn.wizard.defaults={disablePreviousStep:!1,selectedItem:{step:-1}};n.fn.wizard.Constructor=t;n.fn.wizard.noConflict=function(){return n.fn.wizard=i,this};n(document).on("mouseover.fu.wizard.data-api","[data-initialize=wizard]",function(t){var i=n(t.target).closest(".wizard");i.data("fu.wizard")||i.wizard(i.data())});n(function(){n("[data-initialize=wizard]").each(function(){var t=n(this);t.data("fu.wizard")||t.wizard(t.data())})})});
//# sourceMappingURL=wizard.min.js.map
